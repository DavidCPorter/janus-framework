---

# VARIABLE PRECEDENCE
# If multiple variables of the same name are defined in different places, they win in a certain order, which is:
# extra vars (-e in the command line) always win
# then comes connection variables defined in inventory (ansible_ssh_user, etc)
# then comes "most everything else" (command line switches, vars in play, included vars, role vars, etc)
# then comes the rest of the variables defined in inventory
# then comes facts discovered about a system
# then "role defaults", which are the most "defaulty" and lose in priority to everything.

SAPA_HOME: /Users/dporter/projects/sapa
user_root_dir: "{{home}}"

# defaults file for benchmark
pyscript: traffic_gen.py
pom_path: "{{home}}/solrclientserver"


# defaults file for solr
solr_version: dporter_8_3
solr_install_dir: "{{home}}/solr-{{solr_version}}"
solr_log_dir: "/var/solr/logs"
solr_git_branch_name: "{{solr_version}}"
solr_home: "{{solr_install_dir}}/solr/server/solr"
solr_init_file: solr/templates/solr.in.sh
solr_log4j_props: "{{solr_install_dir}}/solr/server/resources/log4j2.xml"
solr_heap: 1 #GB
solr_repo: https://github.com/DavidCPorter/lucene-solr.git
solr_bin_exec: "{{solr_install_dir}}/solr/bin/solr"
chroot: "{{hosts_ui}}"
solrconfig_xml_dest: "{{solr_home}}/configsets/_default/conf/solrconfig.xml"

# defaults file for elastic
es_version: 7.5.1
es_version_download_dict:
  7.5.1: https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-7.5.1-linux-x86_64.tar.gz

es_root_dir: "{{home}}/elasticsearch-{{es_version}}"
kibana_root_dir: "{{home}}/kibana"
es_data_dir: /var/elasticsearch/data
es_log_dir: /var/elasticsearch/log
cache_percentage: "50%"
metric_root_dir: "{{home}}/metricbeat"
masters_override:
  - "{{node0}}"
  - "{{node1}}"


# defaults file for upload_data
data_upload_dir: "{{home}}"
#collection_name: "reviews_rf{{replicas}}_s{{shards}}_clustersize{{clustersize}}"
#aws_dir_name: "{{ansible_subnet}}/reviews_rf{{replicas}}_s{{shards}}_clustersize{{clustersize}}"
aws_dir_name: default
upload_data_file_path: "{{SAPA_HOME}}/playbooks/roles/upload_data/files"
nfs_root: /proj/uic-cs-edu-PG0/exp/solr8/datastore


# defaults file for zookeeper
zoo_version: 3.5.5
zoo_version_download_dict:
  3.4.13: https://archive.apache.org/dist/zookeeper/zookeeper-3.4.13/zookeeper-3.4.13.tar.gz
  3.5.5: https://archive.apache.org/dist/zookeeper/zookeeper-3.5.5/apache-zookeeper-3.5.5.tar.gz
zoo_install_dir: "{{home}}"
zoo_root_dir: "{{home}}/zoo-{{zoo_version}}"
zoo_download_link: "{{zoo_version_download_dict[zoo_version]}}"
zoo_bin_dir: "{{zoo_root_dir}}/bin"
zoo_conf_dir: "{{zoo_root_dir}}/conf"


# defaults file for cloud-env
ramdisk_path: /dev/shm
ptp_install_dir: '/users/{{ansible_user}}/linuxptp'
cred_dir: "{{SAPA_HOME}}/r_modules/cloud-env/files/.aws"

# other
heapsize: 1
shorter_data: true
id_rsa_pub_path: /Users/dporter/.ssh/id_rsa.pub



# vars for indexing module
shards: 2
#replicas is multiplied by #nodes in cluster (e.g. if replicas = 2 and nodes in search engine = 10, then number of replicas == 20)
replicas: 1
collection_name: "{{shards}}_{{replicas}}_index"


---
# defaults file for solr

# VARIABLE PRECEDENCE
# If multiple variables of the same name are defined in different places, they win in a certain order, which is:
# extra vars (-e in the command line) always win
# then comes connection variables defined in local_var_inventory (ansible_ssh_user, etc)
# then comes "most everything else" (command line switches, vars in play, included vars, role vars, etc)
# then comes the rest of the variables defined in local_var_inventory
# then comes facts discovered about a system
# then "role defaults", which are the most "defaulty" and lose in priority to everything.

# Files & Paths

_solr_version: dporter_8_3
solr_version: '{{ui_solr_version | default(_solr_version)}}'
_solr_install_dir: "{{home}}/solr-{{solr_version}}"
solr_install_dir: '{{ui_solr_install_dir | default(_solr_install_dir )}}'
_solr_log_dir: "/var/solr/logs"
solr_log_dir: '{{ui_solr_log_dir | default(_solr_log_dir)}}'
_solr_git_branch_name: "{{solr_version}}"
solr_git_branch_name: '{{ui_solr_git_branch_name | default(_solr_git_branch_name)}}'
_solr_home: "{{solr_install_dir}}/solr/server/solr"
solr_home: '{{ui_solr_home | default(_solr_home)}}'
_solr_init_file: '{{module_root}}/templates/solr.in.sh'
solr_init_file: '{{ui_solr_init_file | default(_solr_init_file)}}'
_solr_log4j_props: "{{solr_install_dir}}/solr/server/resources/log4j2.xml"
solr_log4j_props: '{{ui_solr_log4j_props | default(_solr_log4j_props)}}'
_solr_heap: 1 #GB
solr_heap: '{{ui_solr_heap | default(_solr_heap)}}'
_solr_repo: https://github.com/DavidCPorter/lucene-solr.git
solr_repo: '{{ui_solr_repo | default(_solr_repo)}}'
_solr_bin_exec: "{{solr_install_dir}}/solr/bin/solr"
solr_bin_exec: "{{ui_solr_bin_exec | default(_solr_bin_exec)}}"
_chroot: "{{hosts_ui}}"
chroot: '{{ui_chroot | default(_chroot)}}'
_solrconfig_xml_dest: "{{solr_home}}/configsets/_default/conf/solrconfig.xml"
solrconfig_xml_dest: "{{ui_solrconfig_xml_dest | default(_solrconfig_xml_dest)}}"


_solr:
  - install
  - config
  - run

---
_load_duration: 10
load_duration: '{{ui_load_duration | default(_load_duration)}}'
_l_replicas: 2
l_replicas: '{{ui_l_replicas | default(_l_replicas)}}'
_l_shards: 1
l_shards: '{{ui_l_shards | default(_l_shards)}}'
_l_query: roundrobin
l_query: '{{ui_l_query | default(_l_query)}}'
_l_loop: closed
l_loop: '{{ui_l_loop | default(_l_loop)}}'
_l_solrnum: 2
l_solrnum: '{{ui_l_solrnum | default(_l_solrnum)}}'
# following unnecessary yet required 4.3.2020
_l_threads: 1
l_threads: '{{ui_l_threads | default(_l_threads)}}'
_l_procs: 16
l_procs: '{{ui_l_procs | default(_l_procs)}}'
_l_instances: 0
l_instances: '{{ui_l_instances | default(_l_instances)}}'

processes: "{{l_procs}}"
threads: "{{l_threads}}"
duration: "{{load_duration}}"
replicas: "{{l_replicas}}"
query: "{{l_query}}"
loop: "{{l_loop}}"
shards: "{{l_shards}}"
solrnum: "{{l_solrnum}}"
instances: "{{l_instances}}"
_engine: solr
engine: '{{ui_engine | default(_engine)}}'

_output_dir: "{{home}}/traffic_gen"
output_dir: "{{ui_output_dir | default(_output_dir)}}"
_deploy_name: solr_default
deploy_name: "{{ui_deploy_name | default(_deploy_name)}}"
_local_data_dir: "{{SAPA_HOME}}/data_dir"
local_data_dir: "{{ui_local_data_dir | default(_local_data_dir)}}"
result_filename: "rf{{replicas}}_s{{shards}}__clustersize{{solrnum}}::query={{query}}::proc={{processes}}::threads={{threads}}::dur={{duration}}.csv"
csv_location: "{{output_dir}}"
_solr_pipe:
  - mkdir_data_local
  - read_results
  - append_results_to_total


#!/bin/bash
source $OYSTER_HOME/utils/sapautils.sh
#echo $OYSTER_HOME

createModule(){
  MOD_LOC=$OYSTER_HOME/r_modules/$1
  mkdir $MOD_LOC
  cd $MOD_LOC;mkdir plays defaults tests files templates
  touch defaults/main.yml tests/main.yml README.md
  printf "\nMODULE $1 created here: $MOD_LOC \n\n"
}


if [ "$#" -lt 1 ]; then
    echo "Usage: oyster [command] [parameters]"
	exit
fi

MODULE='x'

while (( "$#" )); do
  case "$1" in
    create|c)
      COMMAND='create'
      MODULE="$2"
      shift 2
      createModule $MODULE
      ;;

    -*|--*=) # unsupported flags
      echo "Error: Unsupported flag $1" >&2
      exit 1
      ;;
    *) # preserve positional arguments
      PARAMS="$PARAMS $1"
      shift
      ;;
  esac
done

exit
